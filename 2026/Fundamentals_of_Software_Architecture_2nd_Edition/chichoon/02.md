# 따로 떼어놓기

## Chapter 03: 아키텍처 모듈성

### 개요

- 아키텍처는 소프트웨어의 근간을 다루지만, 막상 시장이 변화하고 기술이 발전함에 따라 구조부터 다시 짜야 하는 경우가 많다
  - 옛날엔 모놀리식이 유행하다가도 지금은 마이크로서비스가 유행하는 것처럼
  - 모놀리식 시스템의 경우에는 확장이 어렵기 때문에 변화에 대처하기가 힘듦
    - 물컵 예시: 같은 양의 물을 여러 컵에 나눠 담으면, 각 컵은 물을 추가로 담을 수 있기 때문에 확장성 면에서 유연하다
  - 하지만 오선빈의 예처럼, 그럴 듯한 이유 없이 무작정 쪼개려고만 해서는 제품의 상위 담당자를 설득시키기 어렵다
  - 큰 아키텍처를 갑자기 한번에 바꾸려고 시도하기보다는 아키텍처 또한 시대의 변화에 민첩하게 따르는 것이 적절하다

### 모듈화 동인

- 동인: 움직이게 만드는 계기?
  - 오선빈이 상사를 어떻게 잘 설득시킬 수 있을지 여기서 엿볼 수 있음
- 시장에서 우위를 점하기 위한 아키텍처 특성: 가용성, 확장성, 배포성, 시험성, 유지보수성
  - 이 중 몇몇은 모놀리식 아키텍처에서도 충분히 달성가능
- 유지보수성: 기능의 추가, 변경, 삭제 및 코드 내부적 변경이 얼마나 쉽게 달성 가능한지의 여부
  - 컴포넌트간 결합도가 높을 수록, 유지보수성은 낮아진다
    - 하나의 컴포넌트만 수정하려 해도 다른 컴포넌트 (또는 어플리케이션 전체) 를 손봐야 하므로
    - 아키텍처 전체에 같은 도메인이 흩어져있는 경우가 많기 때문에 도메인별 관리 또한 어렵다
  - 마이크로서비스 아키텍처처럼 모듈화를 적절히 수행했을 경우 변경이 필요한 서비스의 컴포넌트만 수정하면 나머지는 영향이 없다
- 시험성: 테스트의 완전성과 용이함
  - 작은 컴포넌트 하나의 변경점 때문에 더 큰 컴포넌트 또는 어플리케이션 전체에 테스트를 수행해야 할 경우, 수고로움이 클 것이다
  - 모듈화를 통해 필요한 테스트의 범위를 좁히고 관리를 수월하게 할 수 있음
- 배포성: 배포의 용이함 (낮은 리스크, 배포에 필요한 작업이 적음)
- 확장성: 부하가 증가해도 시스템에 오류가 발생하지 않고 부하를 감당가능한 정도
  - 확장성은 제품이 서비스되는 기간이 길어짐에 따라 사용자 수가 점점 증가해도 시스템이 응답을 유지함
  - 탄력성은 갑자기 짧은 기간 내에 사용자 수가 폭증하고 사그라드는 것을 반복해도 시스템이 응답을 유지함
  - 확장성이 조금 더 모듈화와 관련이 깊다 > 구조의 덩치가 작을 수록 이것저것 붙이기도 쉽고 구조별 목적이 정확하기 때문에 확장이 용이
- 가용성 (내고장성): 시스템의 특정 부분이 고장나도 나머지 부분은 정상적으로 작동하는 능력
  - 모놀리식은 내고장성에 매우 취약하다
    - 도메인 분리가 되어있지 않고 각 컴포넌트가 강결합 되어있어 하나의 구조에서 오류가 발생하면 다른 곳에서도 오류가 발생할 확률이 높음
  - 모듈화를 통해 특정 배포 단위에서만 버그가 발생하도록 제한하여 다른 모듈에서는 오작동을 막을 수 있다

```
느낀점: FE 관점이긴 하지만 최근에 레거시 코드를 들어내면서 (하나의 큰 화면 컴포넌트가 모든 기능을 담당하고 있었음) 컴포넌트의 관심사를 분리하여 작은 단위로 쪼개는 작업을 했었는데, 그래서 그런지 가용성과 시험성, 유지보수성 측면에서 예시에 공감이 많이 갔음. 허나 FE 하나의 파트에서도 컴포넌트 모듈화는 쉽지 않은 작업이었는데 하나의 제품 단위에서는 얼마나 많은 공수가 필요할지.
```
