# 7장

- 논의주제
    - 적절한 세분도를 측정하기 위해서 책에서는 정량적 분석이 가능한 인터페이스의 개수나 기준의 수를 언급하고 있습니다. 저는 현실과 동떨어진 방법이라고 생각하고, 오히려 비즈니스 임팩트나, 장애 상황에서 격리가 되어야하는지 여부가 세분도 측정에도 포함이 되어야 한다고 생각하는데, 적절한 세분도 측정 방법에 대해서 논의해보면 좋을 것 같습니다
        - 내 의견
            - 퍼블릭 인터페이스나 기능 수를 기준으로 서비스 세분도 값 자체를 측정하는 것은 크기를 짐작할 수 있다는 점에서는 유용할 수 있지만, 중요도의 측면에서는 판단할 수 없다고 생각된다. 세분도를 통해서 마이크로서비스의 크기를 판단할 때는, 단순히 코드에서 제공하고 있는 인터페이스의 양적인 측면이 아니라, 비즈니스 임팩트 기준으로 임팩트가 큰지, 장애 상황에서 격리가 되어야하는지 기준을 고려하는 것도 중요할것 같다.
            - 만약 책에서 말한대로 세분도를 측정하게 된다면, 마땅히 해당 서비스에서 개발해야할 API 인데도 불구하고, 기존에 이미 세분도가 크기 때문에(제공하는 인터페이스와 기능이 많음) 개발을 거부할 수 있는 명분이 되기 때문이다
- 요약
    - 데이터의 분해, 통합인과 큰 맥락에서는 같다
        - 좀 더 넓은 범위에서 분해와 통합인을 고려하는 것으로 이해하면 적절할 것으로 보인다
- 키워드
    - 세분도
- 내용
    - 세분도 분해인
    - 세분도 통합인
- 내 생각
    - 책 초반부에 오선빈 님이 `감으로만 분석을 하니 뭐 하나 진행하기가 쉽지 않네요` 라고 말하면서, 감으로 하는 것은 문제가 있는 것처럼 말하고 있다. 실제 현업 기준에서는 정량적분석 보다 정성적분석으로 하는 경우도 많은 것 같고, 사람의 직감이란 것이 본인의 경험에 기반으로 나오는 것이다보니, 경우에 따라선 감으로 만 해도 좋은 결과를 얻는 경우도 있는 것 같다
    - 마이크로서비스의 마이크로가 작다를 의미하기 때문에, 최대한 작게 쪼개야한다고 주장하는 것은 너무 일차원적이라고 생각된다 어떤 학문을 배울 때, 용어의 의미를 기준으로 단정적으로 보고 주장하는 것은 좋지 못한 태도라고 생각하고, 이 마이크로의 의미가 어떤 맥락일지에 대해서는 고민이 필요한 부분이라고 생각된다. 개인적으로는 모놀리스 서비스에 상대적으로 대비된다는 측면에서의 마이크로라고 보는게 맞다고 생각한다.
    - 단일 책임 원칙이 마이크로서비스의 근간이라는 말의 출처가 어딘지 궁금하다 객체지향에서 객체를 설계하는 원리와 마이크로 서비스를 설계하는 원리가 비슷한 측면이 맞아서, 그 기준으로 충분히 생각해볼 수 있고, 더 쉽게 설계를 시도해볼 수 있다는 장점은 있을거 같다. 다만, 객체지향에서의 객체를 다루는 것과 현실 세계에서 MS를 다루는 것은 관리 비용 차이부터 많이 나기 때문에, 단순히 단일 책임 원칙 하나만으로 MS를 설계하는 것은 부족하다고 생각한다
    - 서비스 세분도는 서비스가 무엇을 하느냐에 따라 달라지기 때문에, 이상적인 마이크로 서비스 설계라면, 마이크로서비스가 최대한 한가지 책임만 가지도록 설계하는 경우가 많은데, 이런 경우에 현실세계에서 가장 큰 문제는 마이크로서비스 유지보수 비용이 너무 많이 든다는 점이다. 그래서 마이크로서비스 설계 시에는 반드시 유지보수 비용까지 고려해서 설계해야한다고 생각한다
    - 세분도의 분해인도 데이터 분해인과 마찬가지로, 분해하거나 통합해야하는 명분은 변경에 의한 장애 발생 시, 격리 가능한가? 의 기준에서 생각해볼 수 있다
    - 마찬가지로 통합인도 동일한 맥락에서 생각할 수 있는데, 통합했을 때, 훨씬 더 작업처리에 유리하고, 분해했을 때, 더 고려해야할 것인 많을 때(분산 트랜잭션으로 인한 데이터 정합성 문제)는 차라리 통합하는게 낫다는 것이다
    - 책에서 나오는 많은 분해인, 통합인도 매우 도움이 되는 것들이라고 생각되는데, 각각을 다 이해하고 활용할 수 없다면, 어떤 게 쉬운 방법일까? 를 생각해보는게 좋을것 같다. 쉽게 풀 수 있는 방법이 있는데, 굳이 어려운 방법을 할 필요는 없기 때문이고, 이 쉬운 방법을 고민하다가 보면, 자연스럽게 책에서 말하는 분해인과 통합인이 나올 것 같다는 생각이다
    - 맨 마지막에 고객등록 세분도 사례의 경우는 애초에 고객 정보는 한 트랜잭션에 보장되어야하는 니즈가 강했기 때문에, 아키텍쳐도 그렇게 결정이 된 것이라고 봐야 할 것 같다. 다만 현실세계에서는 트랜잭션을 보장 못하게 설계할 수밖에 없는 상황도 있기 때문에, 정답이라고 보기 보다는 해당 사례에서 의도에 맞게 잘 설계된 걸로 봐야 할 것 같다