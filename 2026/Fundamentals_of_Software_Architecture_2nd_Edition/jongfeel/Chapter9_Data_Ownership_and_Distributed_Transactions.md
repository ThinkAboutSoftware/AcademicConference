## Summary

- https://github.com/jongfeel/BookReview/issues/1623

## Review

- https://github.com/jongfeel/BookReview/issues/1623#issuecomment-3921813903

### 9.8.3 이벤트 기반 패턴

이벤트 메시지를 처리하는 방법에 있어서 실패하면 어떻하지라는 생각은 읽기 전 부터 들긴 했는데
지속 가능 구독자라는 기능도 흥미롭고 무엇보다도 수신자가 처리에 실패하면 데드 레터 큐라는 곳에 보낸다는 것도 합리적이라는 생각이 들었다.
사실 이런 내용도 메시지 큐 관련 내용 찾아보면 나올텐데 책 내용을 읽으면서 자연스럽게 이해가 되면서 합리적이었다가 맞다고 볼 수 있을 것 같다.
여태까지 읽어봤던 아키텍처 책에는 이런 설명은 구체적으로 나와있지 않았고 이걸 쓰는 게 맞고 특징이 무엇이고만 나와 있었기 때문이다.

## 논의 내용

9.8 최종 일관성 패턴을 설명하는 세가지 방법에서 오케스트레이티드 요청 기반 패턴과 이벤트 기반 패턴에서 에러 처리할 때 트랜잭션 보상도 문제가 생기면 사람이 해결해야 한다는 내용이 나와 있습니다.
사실 제가 과거에 작업했던 내용을 떠올려 보면 제가 직접 롤백하는 쿼리를 비즈니스 로직 처리 레벨이 아니라 직접 쿼리 명령 실행 프로그램을 통해 쿼리를 만들어 두고 파일로 저장해 뒀다가 정말 직접 실행해서 에러 처리에 대한 롤백 업데이트를 했었습니다.

이게 다른 분들한테도 흔하게 있는 일인지 궁금하네요.
흔하게 있는 일이라면 사람이 에러 처리하는 방법도 임시적인 방법이었다가 아닌 얼마나 체계적이었는가도 얘기해 보면 좋겠습니다.