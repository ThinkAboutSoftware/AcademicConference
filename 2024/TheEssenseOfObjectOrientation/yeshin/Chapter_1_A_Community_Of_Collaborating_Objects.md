# 01 협력하는 객체들의 공동체

> 시너지를 생각하라. 전체는 부분의 합보다 크다. - 스티븐 코비(Stephen R.Covey)

- 객체지향의 목표는 실세계를 모방하는 것이 아닌 새로운 세계를 창조하는 것이다.

- 소프트웨어 개발자의 역할은 실세계를 소프트웨어 안으로 옮겨 담는 것이 아닌 고객과 사용자를 만족시킬 수 있는 신세계를 창조하는 것이다.

> 소프트웨어 시스템이 해결하려고 하는 실재는 잘해봐야 먼 친척밖에는 되지 않는다. - 버트란드 마이어(Bertrand Meyer)

- 실세계에 대한 비유는 프로그램을 설계하고 구현하는 실무적인 관점에서는 부적합하지만 객체지향의 다양한 측면을 이해하고 학습하는데 효과적이므로 오늘날에도 실세계 객체와 소프트웨어 객체를 연결지어 설명한다.

## 협력하는 사람들

### 커피 공화국의 아침

- 손님의 목표(커피 구매)를 위해 손님, 캐셔와 바리스타가 **협력(collaboration)** 한다.

  - **역할(role)**: 손님, 캐셔, 바리스타

  - **책임(responsibility)**: 손님(커피 주문), 캐셔(주문 받기), 바리스타(커피 제조)

- 객체지향에서 가장 중요한 개념 세 가지는 역할, 책임, 협력이다.

### 요청과 응답으로 구성된 협력

- 사람은 스스로 해결하지 못하는 문제와 마주치면 문제 해결에 도움을 줄 수 있거나 서비스를 제공해줄 수 있는 사람에게 도움을 **요청(request)** 한다.

- 요청은 **연쇄적**으로 발생한다.

- 요청을 받은 사람(캐셔, 바리스타)은 주어진 책임(캐셔: 주문 받기, 바리스타: 커피 제조)을 다하면서 문제 해결에 필요한 지식이나 서비스를 제공함으로서 **응답(response)** 한다.

- 응답은 요청의 방향과 반대 방향으로 연쇄적으로 전달된다.

- 요청과 응답을 통한 협력(collaboration)의 성공은 특정한 역할을 맡은 각 개인이 얼마나 요청을 성실히 이행하는가에 달려 있다.

### 역할과 책임

- 역할(role)은 어떤 협력에 참여하는 특정한 사람이 협력 안에서 차지하는 책임이나 임무를 의미한다.

- 역할은 의미적으로 책임(responsibility)라는 개념을 내포한다.

- 특정한 역할은 특정한 책임을 암시한다.

- 역할과 책임은 협력이 원활하게 진행되는데 필요한 핵심적인 구성 요소다.

  - 여러 사람(객체)이 동일한 역할을 수행할 수 있다.

  - 역할은 **대체 가능성(substitutable)** 을 의미한다.

  - (각 객체는) 책임을 수행하는 방법은 자율적으로 선택할 수 있다: **다형성(polymorphism)**

  - 한 사람(객체)이 동시에 여러 역할을 수행할 수 있다.

## 역할, 책임, 협력

### 기능을 구현하기 위해 협력하는 객체들

- 사람을 **객체**로, 요청을 **메시지**로, 요청을 처리하는 방법을 **메서드**로 표현할 수 있다.

### 역할과 책임을 수행하며 협력하는 객체들

> 어떤 객체도 섬이 아니다. - 워드 커닝험(Ward Cunningham), 켄트 벡(Kent Beck)

- 사람은 공통의 목표를 달성하기 위해, 객체는 애플리케이션의 기능을 구현하기 위해 협력한다.

- 시스템은 역할과 책임을 수행하는 객체로 분할, 시스템의 기능은 객체 간의 연쇄적인 요청과 응답의 흐름으로 구성된 협력으로 구현된다.

- 객체지향 설계는 적절한 객체에 적절한 책임을 할당하는 것에서 시작한다.

- 객체지향 설계의 품질을 결정하는 가장 중요한 요소는 책임이다.

- 역할은 관련성 높은 책임의 집합으로 유연하고 재사용 가능한 협력 관계를 구축하는 중요한 설계 요소다.

## 협력 속에 사는 객체

- 실제로 협력에 참여하는 주체는 **객체**다.

- 객체는 애플리케이션의 기능을 구현하기 위해 존재한다.:
- 일반적으로 객체는 다른 객체와의 협력을 통해 기능을 구현하므로 객체의 품질이 협력의 품질을 결정한다.

  - 객체는 충분히 협력적이어야 한다: 요청에 응할지 여부나 어떤 식으로 응답할지 객체 스스로 판단하고 결정한다.

  - 객체는 충분히 자율적이어야 한다.

### 상태와 행동을 함께 지닌 자율적인 객체

- 객체의 자율성은 객체의 내부와 외부를 명확하게 구분하는 것으로부터 나온다.

- 내부는 객체 스스로 관리하고 외부에서 간섭할 수 없도록 차단해야 하며, 외부에서는 접근이 허락된 수단을 통해서만 다른 객체와 소통해야한다.

- 객체는 다른 객체가 '무엇(what)'을 수행했는지는 알 수 있지만 '어떻게(how)' 수행했는지에 대해 알 수 없다.

- 객체의 관점에서 자율성이란 자신의 상태를 직접 관리하고 상태를 기반으로 스스로 판단하고 행동할 수 있음을 의미한다.

- 데이터와 프로세스를 객체라는 하나의 틀 안에 함께 묶으면서 객체의 자율성을 보장한다.

- 자율적인 객체로 구성된 공동체는 유지보수가 쉽고 재사용이 용이한 시스템을 구축할 수 있는 가능성을 제시한다.

### 협력과 메시지

- 객체지향 세계에서는 오직 한 가지 의사소통 수단, **메시지**만이 존재한다.

- 메시지를 전송하는 객체를 **송신자(sender)** 라고 부르고 메시지를 수신하는 객체를 **수신자(sender)** 라고 한다.

### 메서드와 자율성

- 객체가 수신된 메시지를 처리하는 방법을 **메서드(method)** 라고 한다.

- 객체지향 프로그래밍 언어에서 메서드는 클래스 안에 포함된 함수 또는 프로시저를 통해 구현된다.

- 메시지를 수신한 객체가 실행 시간에 메서드를 선택할 수 있는 것은 다른 프로그래밍 언어와 객체지향 프로그래밍 언어를 구분짓는 핵심적인 특징 중 하나다.

- 프로시저 호출에 대한 실행 코드를 컴파일 시간에 결정하는 절차적인 언어와 확연히 구분된다.

- **메시지와 메서드의 분리**는 객체의 협력에 참여하는 객체들 간의 자율성을 증진시킨다: **캡슐화(encapsulation)**

## 객체지향의 본질

- 객체지향이란 시스템을 상호작용하는 **자율적인 객체들을 공동체**로 바라보고 객체를 이용해 시스템을 분할하는 방법이다.

- 자율적인 객체란 **상태**와 **행위**를 함께 지니며 스스로 자기 자신을 책임지는 객체를 의미한다.

- 객체는 시스템의 행위를 구현하기 위해 다른 객체와 **협력**한다. 각 객체는 협력 내에서 정해진 **역할**을 수행하며 역할은 관련된 **책임**의 집합이다.

- 객체는 다른 객체와 협력하기 위해 메시지를 전송하고, **메시지**를 수신한 객체는 메시지를 처리하는 데 적합한 **메서드**를 자율적으로 선택한다.

### 객체를 지향하라

- 초기 객체지향 프로그래밍 언어의 초점은 새로운 개념의 데이터 추상화를 제공하는 클래스에 맞춰져 있었다.

- 자바스크립트같은 프로토타입(prototype) 기반의 객체지향 언어에서는 객체만이 존재할 뿐 클래스는 존재하지 않는다.

- 프로토타입 기반의 객체지향 언어에서는 상속 역시 클래스가 아닌 객체 간의 위임(delegation) 매커니즘을 기반으로 한다.

- 지나치게 클래스를 강조하는 프로그래밍 언어적인 관점은 객체의 캡슐화를 저해하고 클래스를 서로 강하게 결합시킨다.

- 중요한 것은 어떤 객체들이 어떤 메시지를 주고 받으며 협력하는가다.

- 클래스는 객체들의 협력 관계를 코드로 옮기는 도구에 불과하다.

- 핵심은 적절한 책임을 수행하는 역할 간의 유연하고 견고한 협력 관계를 구축하는 것이다.

- 클래스의 구조와 메서드가 아닌 객체의 역할, 책임, 협력에 집중하라.

## 논의 사항

- 저 또한 객체지향이라는 개념을 접할 당시, 클래스(붕어빵 틀)를 예시로 알아갔던 기억이 나는데요. 여러분들은 이 책을 읽기 전에 객체지향이라는 개념을 어떻게 이해해왔나요?
