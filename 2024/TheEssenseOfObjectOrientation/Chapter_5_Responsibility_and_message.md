# 05 책임과 메시지

> 의도는 '메시징'이다. 훌륭하고 성장 가능한 시스템을 만들기 위한 핵심은 모듈 내부의 속성과 행동이 어떤가보다는 모듈이 어떻게 커뮤니케이션하는가에 달려있다. - 엘런 케이(Kay)

- 책임감 분산(diffusion of responsibility)이란 사건에 대한 목격자가 많으면 많을수록 개인이 느끼는 책임감은 적어진다.

- 훌륭한 객체지향의 세계는 명확하게 정의된 역할과 책임을 지닌 객체들이 상호 협력하는 세계다.

## 자율적인 책임

### 설계의 품질을 좌우하는 책임

- 객체지향 공동체를 구성하는 기본 단위는 '자율적'인 객체다.

- 자율적인 객체란 스스로의 의지와 판단에 따라 각자 맡은 책임을 수행하는 객체다.

- 협력에 참여하는 객체가 얼마나 자율적인지가 전체 애플리케이션의 품질을 결정한다.

### 자신의 의지에 따라 증언할 수 있는 자유

- 객체가 책임을 자율적으로 수행하기 위해서는 객체에게 할당되는 책임이 자율적이어야 한다.

- 객체지향 셰계는 자율적인 객체들의 공동체이다.

### 너무 추상적인 책임

- 책임은 협력에 참여하는 의도를 명확하게 설명할 수 있는 수준 안에서 추상적이어야 한다.

- 어떤 책임이 자율적인지를 판단하는 기준은 문맥에 따라 다르다.

- 어떤 책임이 가장 적절한가는 설계 중인 협력이 무엇인가에 따라 달라진다.

### '어떻게'가 아니라 '무엇'을

- 자율적인 책임은 객체가 '어떻게(how)'해야 하는가가 아니라 '무엇(what)'을 해야 하는가를 설명한다.

### 책임을 자극하는 메시지

- 책임이라는 말 속에는 어떤 행동을 수행한다는 의미가 포함되어 있다.

- 객체가 다른 객체에게 접근할 수 있는 유일한 방법은 요청(메시지)을 전송하는 것이다.

- 메시지는 객체로 하여금 자신의 책임, 즉 행동을 수행하게 만드는 유일한 방법이다.

## 메시지와 메서드

### 메시지

- 메시지-전송 메커니즘은 객체가 다른 객체에 접근할 수 있는 유일한 방법이다.

- 송신자가 수신자에게 전송하는 메시지를 가리키는 부분을 메시지 이름(message name)이라고 한다.

- 메시지를 전송할 때 추가적인 정보가 필요한 경우 메시지의 인자(argument)를 통해 추가 정보를 제공할 수 있다.

- 메시지 전송은 수신자와 메시지(메시지 이름, 인자)의 조합이다.

- 객체가 수신할 수 있는 메시지의 모양이 객체가 수행할 책임의 모양을 결정한다.

- 외부의 객체는 메시지에 관해서만 볼 수 있고 객체 내부는 볼 수 없기 때문에 자연스럽게 객체의 외부와 내부가 분리된다.

### 메서드

- 수신자가 메시지를 처리하기 위해 내부적으로 선택하는 방법을 메서드(method)라고 한다.

- 어떤 객체에 메시지를 전송하면 결과적으로 메시지에 대응되는 특정 메서드가 실행된다.

- 메시지를 수신한 객체가 실행 시간에 메서드를 선택할 수 있다는 사실은 다른 프로그래밍 언어와 객체지향 프로그래밍 언어를 구분짓는 핵심적인 특징 중 하나이다.

### 다형성

- 서로 다른 타입에 속하는 객체들이 동일한 메시지를 수신할 경우 서로 다른 메서드를 이용해 메시지를 처리할 수 있는 매커니즘이다.

- 다형성은 하나의 메시지와 하나 이상의 메서드 사이의 관계로 볼 수 있다.

- 객체들이 동일한 책임을 공유함으로써 그 서로 다른 객체들은 다형성을 만족한다.

- 메시지 송신자의 관점에서 동일한 역할을 수행하는 다양한 타입의 객체와 협력할 수 있게 한다.

- 또한 동일한 역할을 수행할 수 있는 객체들 사이의 대체 가능성을 의미, 설계를 유연하고 재사용 가능하게 만든다.

- 수신자의 종류를 캡슐화한다.

- 다형성은 송신자와 수신자 간의 객체 타입에 대한 결합도를 메시지에 대한 결합도로 낮춤으로써 달성된다.

### 유연하고 확장 가능하고 재사용성이 높은 협력의 의미

- 협력이 유연해진다: 송신자에 대한 파급효과 없이 유연하게 협력을 변경할 수 있다.

- 협력이 수행되는 방식을 확장할 수 있다: 간단하게 새로운 유형의 객체를 협력에 끼워 맞출 수 있다.

- 협력이 수행되는 방식을 재사용할 수 있다.

> ... 객체를 어떻게 할 것인지보다는 무엇을 할 것인지에 초점을 맞추기 때문에 시스템의 행위를 변경하기 쉽다.
