# ch09. 도메인 논리 패턴

## 논의
한 프로젝트에서 트랜잭션 스크립트와 서비스 계층을 적절히 혼합을 하면 좋을 것 같습니다.
실제로 이런 형태로 구성을 해보셨던 경험이 있으시거나 혹은 제 생각과 다른 생각이시라면
왜 그렇게 생각하시는지 이야기해주세요.

## 내용
- 트랜잭션 스크립트
	- 모든 논리를 단일 프로시저로 구성
	- 각 트랜잭션은 자체 트랜잭션 스크립트로 실행
	- 공통 작업은 하위 프로시저로 분할 가능
	- 장점
		- 단순함
	- 단점
		- 비즈니스 논리가 복잡해지면 좋은 설계 상태 유지 어려움
		- 코드 중복 가능성이 높음
- 도메인 모델
	- 단순한 도메인 모델
		- 도메인 객체와 DB 테이블이 일치
	- 리치 도메인 모델
		- DB 설계와는 다르게 보일 수 있음
- 테이블 모듈
	- 도메인 모델과의 차이
		- 도메인 모델: 요청만큼 객체 생성
		- 테이블 모듈: 요청을 객체 하나가 처리
- 서비스 계층
	- 트랜잭션을 제어하며 응답 조율, 비즈니스 논리를 캡슐화
	- 변형
		- 도메인 파사드(domain facade)
			- 도메인 모델 위에서 씬 파사드의 집합으로 구현
			- 도메인 모델이 모든 비즈니스 논리를 구현
		- 작업 스크립트(operation script)
			- 서비스 계층을 리치 클래스 집합으로 구현
			- 애플리케이션 논리는 직접 구성
			- 도메인 논리는 캡슐화된 도메인 객체 클래스로 위임
