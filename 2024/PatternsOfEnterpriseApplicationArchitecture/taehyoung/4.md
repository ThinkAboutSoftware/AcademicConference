# 4장 웹 프레젠테이션

# 논의 내용

- 책에서 설명하는 모델, 뷰, 컨트롤러 에서의 컨트롤러와 애플리케이션 컨트롤러의 차이점을 잘 이해하지 못했습니다. 제가 알고 있는 컨트롤러는 전자의 컨트롤러인데요, 애플리케이션 컨트롤러의 예가 있다면 어떤게 있을지 다른 분들의 의견도 들어보고 싶습니다

# 키워드

1. 모델 뷰 컨트롤러
2. 애플리케이션 컨트롤러

# 내용 & 구조

## 개요

1. 스크립트 방식
2. 서버 페이지 방식
3. 모델 뷰 컨트롤러
    1. 컨트롤러 용어가 혼란을 줄 수 있기 때문에, 입력 컨트롤러 라는 용어를 더 선호
        1. 입력 컨트롤러 flow
            1. 요청을 받는다
            2. 요청에서 정보를 꺼낸다
            3. 비즈니스 논리를 적절한 모델 객체로 전달한다
                1. 모델 객체는 응답에 필요한 정보를 수집
                2. 입력 컨트롤러로 제어를 반환한다
            4. 결과를 받아서, 응답을 표시하는데 필요한 뷰를 결정한다
            5. 응답데이터와 함께 제어를 뷰로 전달한다
    2. 사용이유
        1. 모델을 웹 프레젠테이션으로부터 완전히 분리하기 위해서
            1. 비즈니스 로직을 따로 분리할 수 있음
            2. 테스트하기 쉬움
4. 애플리케이션 컨트롤러
    1. 애플리케이션의 흐름을 처리하고 어떤 화면을 어떤 순서로 표시할지 결정하는 역할

## 뷰 패턴

1. 변환 뷰
2. 템플릿 뷰
    1. 페이지의 구조 안에 프레젠테이션을 작성하고 페이지에 표식을 삽입해 동적 컨텐츠를 넣을 위치를 지정할 수 있다.
        1. JSP
        2. ASP
        3. PHP
3. 1단계 뷰
    1. 일반적으로 애플리케이션 화면당 뷰 컴포넌트 하나를 사용
    2. 뷰는 도메인에서 데이터를 받고 이를 HTML로 렌더링한다.
4. 2단계 뷰
    1. 도메인 데이터로부터 논리적 화면을 생성한 다음 이를 HTML로 렌더링하는 두 단계로 나눈다.
        1. 장점
            1. 사용할 HTML에 대한 결정을 한곳으로 모을 수 있다는 것

## 입력 컨트롤러 패턴

1. 가장 일반적인 패턴은 웹 사이트의 모든 페이지마다 입력 컨트롤러 객체를 만드는 것이다.
2. 대부분의 경우 동작은 페이지와 연결되지만 조건에 따라 여러 다른 페이지로 연결되는 링크와 같이 일대일 관계가 아닌 경우도 있다.
3. 모든 입력 컨트롤러는 HTTP 요청을 처리하고 이를 바탕으로 수행할 작업을 결정하는 두 역할을 하므로, 두 역할을 분리하는 것이 더 적절한 경우가 많다.
    1. 서버 페이지는 요청을 처리하고, 별도의 도우미 객체에 수행할 작업을 결정하도록 위임할 수 있다.
    2. 프런트 컨트롤러는 이분리를 한 단계 더 발전시켜서 한 객체가 모든 요청을 처리하게 한다.

# 내 생각

- 이 장은 비교적 가볍게 볼 수 있었다
- 현재는 책에서 말한 스크립트 방식이나 서버 페이지 방식이 아닌, FE, BE가 나뉜 상태에서 BE는 json 형태로 데이터만 전달해주는 역할을 하고 있는데, 좀 동떨어진 얘기를 하고 있는게 조금 아쉬웠고, 개정판이 나온다면, 이 부분은 반드시 수정되지 않을까 싶다
- 입력 컨트롤러에 대해서 다시 한번 개념을 다질 수 있었고, 비즈니스 로직은 별도 핸들러에 위임하는게 더 낫다고 생각한다
- 프론트 컨트롤러는 일종의 퍼사드 패턴과 비슷한데, 이 책에서 처음 알게된 개념이다. 현재 회사에서 작업하는 형태와는 어울리지 않는 형태로 보인다