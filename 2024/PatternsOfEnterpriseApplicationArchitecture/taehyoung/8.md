# 8장 종합

## 논의 내용

- 이 부분에서 정리된 내용을 다시 읽어보면서, 트랜잭션 스크립트, 테이블 모듈, 도메인 모델 이라는 것이, 코드로 보지 않고 설명으로만 듣다보니, 어떤 특정한 경우에 딱 맞지 않는 다는 느낌이 들었습니다 패턴을 현실에 끼워맞춰서 생각하려다보니 생긴 문제 같은데 다른 분들은 어떻게 느끼셨는지 궁금합니다
    - 처음에는 장고에서 흔히 사용하는 구현 패턴은 트랜잭션 스크립트라고 생각했습니다. 근데 글을 읽다보니, 트랜잭션 스크립트 이면서, 테이블 모듈의 요소도 있고, 도메인 모델에서 active record 형태도 가지고 있는 것 처럼 느껴지다보니.. 뭔가 이건 무슨 패턴이야 라고 말하기 애매하다? 라고 생각했네요

# 내용 & 구조

- 간단하게 주고 받은 대화를 바탕으로 어떤 문제에 대한 구체적인 조언을 하기란 불가능하다. 여러분이 겪고 있는 문제에 대해서는 필자는 이보다 더 모르는 상태다.
- 따라서 이 단원은 있는 그대로 받아들이기 바란다. 필자가 모든 답을 아는 것은 아니며, 더욱이 여러분의 질문이 무엇인지는 알 수 없다. 필자의 조언을 아무 생각 없이 받아들이기보다 각자의 사고를 촉진하는 재료로 활용하자

## 도메인 계층으로 시작하기

- 트랜잭션 스크립트
    - 가장 간단하지만, 복잡한 비즈니스 논리에 대처하기 어렵고 중복코드가 늘어나는 문제에 취약하다
- 테이블 모듈
    - 트랜잭션 스크립트보다 도메인 논리를 원활하게 수행할 수 있고, 도메인 모델만큼 복잡한 도메인 논리에 매끄럽게 대처할 수는 없지만, 관계형 데이터베이스를 활용하는 데 아주 적합
- 도메인 모델
    - 도메인 논리가 복잡한 경우 도메인 모델 보다 효과적으로 어려운 문제를 해결할 수 있는 방법은 없다
    - but, 사용법을 배우기 어렵다
    - 관계형 데이터베이스와 연결을 고려하는 것도 어렵다

## 데이터 원본 계층

- 트랜잭션 스크립트의 데이터 원본
    - 행 데이터 게이트웨이
    - 테이블 데이터 게이트웨이
- 테이블 모듈의 데이터 원본
    - 레코드 집합과 잘 맞는 데이터베이스 매핑 패턴이 필요하므로, 테이블 데이터 게이트웨이가 매력적인 선택이다
- 도메인 모델의 데이터 원본
    - 도메인 모델의 가장 큰 약점은 데이터베이스에 대한 연결이 복잡하다는 것
    - 결합을 느슨하게 만들려면 테이블 데이터 게이트웨이나 행 데이터 게이트웨이를 사용하면 된다.
    - 이보다 더 복잡한 경우에는 도메인 모델을 다른 모든 계층으로부터 최대한 독립적으로 운영하기 위해 데이터 매퍼를 사용하는 것을 고려해야 한다