# 14장 웹 프레젠테이션 패턴

# 논의 내용

- 현재 개발하고 있는 BE 코드들이 거의 100% 웹 프레젠테이션 표현을 위해서 BE에서 html 렌더링을 해서 응답을 내리는 경우는 없습니다. 가끔씩 아주 간단한 페이지를 만들 때, django 혹은 기타 template engine을 이용해서 만드는 경우가 아니면, 현업에서는 거의 따 쓰지 않는 패턴들로 보입니다 이중에서 사용해본 패턴이 있다면 내용을 공유해봐도 좋을 것 같습니다

# 모델 뷰 컨트롤러

- MVC의 핵심 개념은 프레젠테이션을 모델에서 분리하고 컨트롤러를 뷰에서 분리하는 두 가지 분리다
- 프레젠테이션을 모델에서 분리하는 것은 바람직한 소프트웨어 설계에서 가장 기본적인 개념이다
- 가장 중요한 것은 한 방향으로만 의존한다는 것이다

# 페이지 컨트롤러

- 페이지 컨트롤러의 기본 개념은 웹 서버 상의 한 모듈이 웹 사이트의 각 페이지에 대한 컨트롤러 역할을 하는 것이다.
- 페이지 컨트롤러는 스크립트나 서버페이지로 구성할 수 있다.
- 애플리케이션에서 한 가지 방법으로 통일해서 얻은 일관성의 장점보다는 스크립트릿으로 가득 찬 서버 페이지나 다수의 단순한 전달 스크립트의 단점이 더 크게 나타나게 된다.
- 페이지 컨트롤러는 대부분의 컨트롤러 논리가 아주 간단한 사이트에서 잘 작동한다

# 프런트 컨트롤러

- 모든 요청을 단일 처리기 객체로 집중하는 방법으로 요청을 통합 처리한다.
- 프런트 컨트롤러에 대해 가장 자주 언급되는 장점 중 하나는 페이지 컨트롤러에서 중복 코드를 분리할 수 있다는 점이다

# 템플릿 뷰

- 동적 웹 페이지를 생성하는 가장 좋은 방법은 정적 페이지를 작성하는 것과 비슷하게 동적 웹 페이지를 구성하고 여기에 동적 정보를 가져오기 위한 호출로 변환되는 표시자를 추가하는 것이다. 페이지의 정적부분은 특정 응답을 위한 템플릿 역할을 하므로, 이 패턴을 템플릿 뷰라고 부른다
- 가장 널리 사용되는 템플릿 뷰의 형식으로는 ASP, JSP, PHP 같은 서버 페이지가 있다.
- 조건부 태그는 바람직하지 않으며, 가급적 사용하지 않는 것이 좋다.
- 템플릿 뷰를 사용할 때, 주의할 사항 중 하나가 예외다. 따라서 웹서버가 예외를 어떻게 처리하는지 알아 볼 필요가 있다
- 모델 뷰 컨트롤러에서 뷰를 구현할 때는 템플릿 뷰와 변환 뷰를 주된 선택사항으로 고려한다.

# 변환 뷰

- 변환 뷰의 기본 개념은 도메인 기반 데이터를 받아 HTML로 변환하는 프로그램을 작성하는 것이다.
- 변환 뷰와 템플릿 뷰의 가장 큰 차이는 뷰가 구성되는 방법에 있다 템플릿 뷰는 출력을 기준으로 구성된다. 반면 변환 뷰는 입력 요소의 각 유형별 변환을 기준으로 구성된다.

# 2단계 뷰

- 이 패턴의 핵심은 HTML로의 변환을 2단계 프로세스로 처리하는 것이다.
- 첫 번째 단계는 정보를 준비 단계의 표시용 요소를 포함하지만, 아직 HTML은 포함하지 않는 논리적 화면구조로 변환한다. 두번째 단계에서는 프레젠테이션 기반 구조를 HTML로 렌더링 한다

# 애플리케이션 컨트롤러

- 필요한 모든 흐름 논리를 애플리케이션 컨트롤러에 배치하면 이러한 코드 중복을 예방할 수 있다.
- 애플리케이션 컨트롤러는 실행할 도메인 논리를 결정하고 응답을 표시할 뷰를 결정하는 두 가지 역할을 한다
- 한 요청에 적용되는 도메인 논리가 애플리케이션 컨트롤러에 배치되는 경우도 있을 수 있다. … 필자는 이 개념에 상당히 반대하는 편이다. … 소수라면, 이러한 유형의 논리를 애플리케이션 컨트롤러에 넣을 수 있겠지만, 여러 곳에서 자주 필요하다면, 도메인 모델을 이에 맞게 설계할 필요가 있다