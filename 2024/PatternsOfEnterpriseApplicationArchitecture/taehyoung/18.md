# 게이트웨이

- 게이트웨이는 실제로는 아주 간단한 래퍼 패턴이다.애플리케이션이 해당하는 외부 자원에 대해 어떤 작업을 수행해야 하는지 고려하고 용도에 맞는 간단한 API를 만든 다음 게이트웨이를 사용해 외부 자원에 맞게 변환 할 수 있다
- 게이트웨이는 가급적 단순하게 유지하면서 외부 서비스와 연결하고 스텁의 적용 지점을 제공하는 핵심 역할에 집중해야 한다. 즉, 이러한 작업을 처리할 수 있는 한도 안에서 최소 규모로 유지하는 것이 좋다
- 외부 자원에 대한 인터페이스가 불편하다고 느껴지면 항상 게이트웨이를 고려해야한다

# 매퍼

- 매퍼는 하위 시스템을 서로 격리하는 계층으로서 하위 시스템이 서로 인식할 필요 없이 통신할 수 있게 세부 사항을 처리한다
- 가장 흔히 볼 수 있는 매핑 계층의 예로 데이터 매퍼가 있다.
- 매퍼는 두 하위 시스템에 이러한 상호작용에 대한 의존성이 없어야 하는 경우에만 사용한다.

# 계층 상위 형식

- 계층 상위 형식은 기본적인 개념을 활용하는 아주 간단한 패턴으로서한 계층 내의 모든 객체에 대한 상위 클래스를 만드는 것이다.

# 분리 인터페이스

- 이 패턴은 아주 간단하게 적용할 수 있으며, 구현은 해당 인터페이스에 의존하지만, 그 반대는 해당되지 않는 다는 점을 활용한다 즉, 인터페이스와 구현을 별도의 패키지에 넣고 구현 패키지가 인터페이스 패키이에 대한 의존성을 갖게 한다.
- 분리 인터페이스는 한 시스템을 구성하는 두 부분을 격리하는 데 사용한다.

# 레지스트리

- 어떤 객체를 찾으려는 경우 찾으려는 객체와 연결된 다른 객체에서 시작해 이 연결을 따라 검색하는 것이 일반적이다. 즉, 한 고객의 모든 주문을 찾으려면 고객 객체에서 주문을 얻는 메서드를 사용해야한다.
- 레지스트리는 기본적으로 전역 객체이거나 적어도 전역으로 보인다.
- 레지스트리를 사용하는 것이 맞는 상황이 있지만, 전역 데이터는 기본적으로 사용하지 않는 것이 좋다는 것을 기억하자

# 값 객체

- 금액이나 날짜 범위와 같이 동등성의 개념이 식별자에 기반을 두지 않는 작고 간단한 객체
- 값 객체는 작고 쉽게 생성할 수 있으므로, 참조가 아닌 값으로 전달하는 경우가 많다.
- 식별자가 아닌 다른 기준을 바탕으로 동등성을 판단하는 경우 값 객체를 사용한다.

# 금액

- 기본 개념은 각각 액수와 통화 필드를 포함하는 금액 클래스를 만드는 것이다. 액수는 정수 형식이나 고정 소수점 수를 사용해 저장할 수 있다.
- 객체지향 환경의 거의 모든 수치 계산에 금액을 사용한다. 주된 이유는 반올림 동작의 처리를 캡슐화해서 반올림 오류의 문제를 완하하기 위한 것이지만, 다중 통화 작업을 수월하게 하는데도 도움이 된다

# 특수 사례

- 변수가 null일 가능성이 있다면, null 테스트 코드를 추가해 null인 경우 적절한 작업을 해야 한다
- 기본 개념은 특수 사례를 처리하는 하위 클래스를 만드는 것이다.
- 특수 사례에서 메서드를 재정의하는 데 자주 사용하는 방법은 다른 특수 사례를 반환하는 것이다. 즉, 알 수 없는 고객의 마지막 청구서를 요청한 경우 알 수 없는 청구서를 받는다.

# 플러그 인

- 런타임 환경에 따라 다른 구현이 요구되는 동작이 있는 경우 플러그인을 사용한다.

# 서비스 스텁

- 테스트 중에는 이러한 외부 서비스를 로컬에서 인메모리로 빠르게 실행되는 서비스 스텁으로 대체하면 개발환경을 개선할 수 있다.
- 서비스 스텁의 목적은 개발 프로세스의 속도를 높이는것이므로 최대한 단순하게 유지하는 것이 좋다.
- 익스트림 프로그래밍 전문가들은 서비스 스텁의 의미로 모형 객체라는 용어를 사용한다.

# 레코드 집합

- 레코드 집합의 기본 개념은 SQL 쿼리의 결과와 완전히 같은 형식이지만, 시스템의 다른 부분에서 생성하고 관리할 수 있는 인메모리 구조를 제공해 활용할 수 있게 하는 것이다.
- 레코드 집합의 가치는 레코드 집합을 기반으로 데이터 조작 기능을 제공하는 환경에서 발휘된다.
- 레코드 집합의 가치를 높이는데 중요한 역할을 하는 도구가 많이 개발된 데는 이 업계에서 관계형 데이터베이스와 SQL의 꾸준한 입지, 그리고 이를 대체할 수 있는 다른 구조와 쿼리 언어의 부재가 한몫 했다.