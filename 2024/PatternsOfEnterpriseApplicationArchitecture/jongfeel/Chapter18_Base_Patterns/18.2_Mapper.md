### 매퍼

> 독립적인 두 객체 간의 통신을 설정하는 객체

<img width="654" alt="image" src="https://github.com/jongfeel/BookReview/assets/17442457/008a7942-5419-430e-853a-018ced3b7c5e">

하위 시스템을 수정할 수 없거나 두 하위 시스템 간 또는 하위 시스템과 격리 요소 간에 의존성을 만들고 싶지 않은 경우 유용하다.

#### 작동 원리

매퍼는 하위 시스템을 서로 격리하는 계층으로 하위 시스템이 서로 인식할 필요 없이 통신할 수 있게 세부 사항을 처리한다.

매퍼는 한 계층에서 다른 계층으로 데이터를 섞는 경우가 많다.
매퍼를 사용하는 과정에서 어려운 부분은 매퍼를 호출하는 방법을 결정하는 것이다.
매퍼가 매핑하는 두 하위 시스템에서 매퍼를 직접 호출하기는 불가능하기 때문이다.
다른 세 번째 하위 시스템이 매핑을 주도하고 매퍼도 호출하는 경우가 있다.
다른 방법은 매퍼를 두 하위 시스템 중 하나의 관찰자[Gang of Four]로 만드는 것이다.
이렇게 하면 두 하위 시스템 중 하나의 이벤트를 수신하는 방법으로 매퍼를 호출할 수 있다.

흔히 볼 수 있는 매핑 계층의 예로 `데이터 매퍼`가 있다

#### 사용 시점

매퍼는 한 시스템에서 다른 부분 간의 결합을 분리한다.
결합을 분리할 때는 매퍼와 `게이트웨이`중 하나를 선택할 수 있다.
`게이트웨이`는 매퍼보다 코드를 작성하는 것은 물론 나중에 사용하기도 쉽다.

매퍼는 데이터베이스와의 상호작용을 위한 `데이터 매퍼`로 주로 사용된다.

매퍼는 다른 요소를 분리한다는 점에서 중재자[Gang of Four]와 비슷하다.
중재자를 사용하는 객체는 상대 객체를 인식하지 못하지만 중재자는 인식하는 반면,
매퍼가 분리하는 객체는 상대 객체는 물론 매퍼도 인식하지 못한다.