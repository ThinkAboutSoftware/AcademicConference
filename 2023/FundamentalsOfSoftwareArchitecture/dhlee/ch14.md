
# 14. 이벤트 기반 아키텍처 스타일

## 더 찾아볼 내용
- **리액티브 아키텍처의 워크플로 이벤트 패턴**
- 데이터 소실 방지 방법


## 내용
- 확장성이 뛰어난 고성능 애플리케이션 개발에 널리 쓰이는 비동기 분산 아키텍처 스타일
- 적응성이 좋음 => 다양한 규모에 두루 사용 가능
- 이벤트를 비동기 수신/처리하는 별도의 이벤트 컴포넌트로 구성되며 단독 사용도 가능하지만 다른 아키텍처 스타일에 내장할 수도 있음
- 요청기반모델을 따름
	1. 어떤 행동을 수행하도록 시스템에 요청
	2. 요청 오케스트레이터가 접수
		- 보통 UI지만 API레이어나 엔터프라이스 서비스로도 구현 가능
- 토폴로지
	- 중재자: 이벤트 처리 워크플로 제어
		- 여러 이벤트 프로세서 간의 조정이 필요한 시작 이벤트에 대해 워크플로를 관리/제어
		- 구성
			- 시작 이벤트
			- 이벤트 큐
			- 이벤트 중재자
			- 이벤트 채널
			- 이벤트 프로세서
	- 브로커: 신속한 응답, 동적인 이벤트 처리 제어
		- 중앙에 이벤트 중재자가 없음(중재자 토폴로지와 다르게)
		- 메세지는 경량 메시지 브로커를 통해 브로드캐스팅되는 식으로 이벤트 프로세서 컴포넌트에 분산
		- 이벤트 처리 흐름이 단순하고 중앙에서 이벤트를 조정할 필요가 없을 때 사용
		- 구성
			- 시작 이벤트
			- 이벤트 브로커
			- 이벤트 프로세서
			- 처리 이벤트
- 비동기 통신
	- 요청/응답 처리뿐아니라 파이어 엔드 포켓 처리 모두 비동기 통신만 사용
	- 사용자가 정보를 돌려받을 필요가 없다면 기다릴 필요도 없음
	- 에러 처리가 문제
- 에러 처리
	- 리액티브 아키텍처의 워크플로 이벤트 패턴
		- 비동기 워크플로에서 에러 처리문제를 해결하는 한가지 방법
		- 탄력성, 응답 모두 굿
- 데이터 소실 방지
	- 데이터가 소실될만한 곳이 많음
	- 기본적인 메시징으로 어느정도 해결할 수 있음
- 하이브리드 이벤트 기반 아키텍처