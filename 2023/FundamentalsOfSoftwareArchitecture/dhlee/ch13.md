
# 13. 서비스 기반 아키텍처 스타일

## 느낀점
- 탄력성 2점
- 나머지는 3점이상
- 1점이 없음
- 전체적으로 무난한 스타일

## 내용
- 마이크로서비스 아키텍처 스타일의 일종
- 아키텍처가 유연하여 가장 실용적인 스타일 중 하나
- 토폴로지
	- 각각 따로 배포된 유저 인터페이스와 원격 서비스, 모놀리스 데이터베이스로 이루어진 대규모 분산 레이어 구조
	- 서비스는 큼직한 단위로 분리해 별도로 배포하는 `애플리케이션의 일부`(보통 도메인 서비스라고 함)
	- 여러 서비스가 단일 모놀리식 데이터베이스를 공유하므로 애플리케이션 서비스는 4~12개(평균 7개)
	- **중앙 공유 DB를 사용**
	- 특유의 유연성으로 다양한 변형이 존재
		- 단일 모놀리식 유저 인터페이스는  여러 유저 인터페이스 도메인으로 나눌 수 있고, 각 도메인 서비스에 맞게 나눌 수도 있음
		- 단일 모놀리식 DB도 개별 DB로 분리할 수 있고 각 도메인 서비스 전용DB들로 쪼갤 수 있음
- 서비스 설계 및 세분도
	- 보통 단위가 큼 -> 도메인 서비스를 API 파사드 레이어, 비즈니스 레이어, 퍼시스턴스 레이어로 구성된 레이어드 아키텍처 스타일로 설계
- DB 분할
	- DB 테이블 스키마를 나타낸 공유 클래스파일(엔티티 객체)은 전체 도메인 서비스가 함꼐 사용하는 커스텀 공유 라이브러리에 둠
	- DB변경 영향을 받기 쉬운데 이를 낮추기 위해 DB를 논리적으로 분할, 연합 공유 라이브러리를 통해 명시하는 것
	- **데이터 도메인을 올바르게 정의/관리하고 DB는 가급적 논리적으로 잘게 나누자.**
- 사용시기
	- DDD와 잘 맞음
	- 복잡, 세분도의 함정에 빠지지 않고 모듈성을 괜찮게 달성 가능
	- 오케스트레이션과 코레오그래피 둘다 필요