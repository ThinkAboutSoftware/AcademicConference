# 코드를 오용하기 어렵게 만들라

## 논의
2항 객체를 깊은 수준까지 불변적으로 만드는 것을 고려하라에서 얘기하는 방어적 복사, 불변 자료구조 사용과 그냥 가변객체를 사용하는 것. 둘 중 하나를 선택할때가 매우 고민이 되는데 이걸 선택하는 여러분들만의 기준이 있으신가요?

## 코드 오용의 원인
- 호출하는 쪽에서 잘못된 입력을 제공
- 다른 코드의 부수 효과(입력 매개변수 수정 등)
- 정확한 시간이나 순서에 따라 함수를 호출하지 않음
- 관련 코드에서 가정과 맞지않게 수정이 이루어짐

## 1. 불변 객체로 만드는 것을 고려하라
- 빌더 패턴
- 쓰기 시 복사

## 2. 객체를 깊은 수준까지 불변적으로 만드는 것을 고려하라
- 방어적 복사
- 불변적 자료구조 사용

## 3. 지나치게 일반적인 데이터 유형을 피하라
- 특히 페어 유형은 더더욱 오용하기 쉬움
- 전용 유형을 사용하라

## 4. 시간처리
- 정수로 시간을 나타내면 시간의 양인지 한순간의 시간인지 파악하기 어려움
- 단위(초, 밀리초, 마이크로초 등)가 일치하지 않음
- 시간대 처리 오류 발생 가능성이 있음
- 적절한 자료구조를 사용하라

## 5. 데이터에 대해 진실의 원천을 하나만 가져야 한다
데이터는 종종 두 가지 형태로 제공 됨
- 기본 데이터: 코드에 제공해야 할 데이터. 필수임. 이거 모르면 코드는 처리 못함 <- **진실의 원천**
- 파생 데이터: 주어진 기본 데이터에 기반해서 코드가 계산할 수 있는 데이터
<br/>
기본 데이터를 **유일의 진실의 원천**으로 사용하라


## 6. 논리에 대한 진실의 원천을 하나만 가져야 한다
- 논리에 대한 진실의 원천이 여러개 있으면 버그를 유발할 수 있다.
- 진실의 원천은 데이터든 논리든 하나만!